<!--
<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <title>Glücksrad - Korrekte Auswahl 12 Uhr</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      display: flex;
      flex-direction: column;
      align-items: center;
      margin: 40px;
    }
    .pointer {
      width: 0; height: 0;
      border-left: 18px solid transparent;
      border-right: 18px solid transparent;
      border-top: 28px solid #000; /* zeigt nach unten auf das Rad */
      margin-bottom: -12px;
      z-index: 2;
    }
    canvas {
      border-radius: 50%;
      background: #fafafa;
      box-shadow: 0 6px 18px rgba(0,0,0,0.12);
    }
    button {
      margin-top: 18px;
      padding: 10px 18px;
      font-size: 16px;
      cursor: pointer;
      border-radius: 8px;
      border: none;
      background: #2962ff;
      color: white;
    }
    #result {
      margin-top: 14px;
      font-weight: bold;
      min-height: 1.2em;
    }
  </style>
</head>
<body>

  <img src="Bazinga.JPEG" alt="Mein Bild" style="width:90%; height:auto;"> 
  <p>
    Sehr geehrte Frau Gebhardt,<br><br>
    mit großem Bedauern musste ich feststellen, dass es in letzter Zeit wiederholt zu Parkverstößen ihrerseits in unmittelbarer Umgebung meiner Wohnung gekommen ist. 
    Aufgrund der wiederholt und beinahe systematisch aufgetretenen Vorkommnisse des Falschparkens sehe ich mich leider gezwungen eine Sanktion gegen Sie zu erlassen. 
    Da ich so ein fairer Sportsmann bin, lege ich die Wahl der Strafe in Ihre Hände. Bitte betätigen Sie hierzu das untenstehende Glücksrad und teilen Sie dem Kläger das Ergebnis mit.
    Rechtliche Informationen, die Ihnen bestätigen, dass ihre Bestrafung unausweichlich und absolut rechtsgültig ist finden Sie am Ende der Seite. <br><br>
    Mit freundlichen Grüßen<br>
    Dennis 
  </p>
  
  <div class="pointer" aria-hidden="true"></div>
  <canvas id="wheel" width="420" height="420" aria-label="Glücksrad"></canvas>
  <button id="spin">Drehen</button>
  <div id="result"></div>

  <script>
    const canvas = document.getElementById('wheel');
    const ctx = canvas.getContext('2d');
    const SIZE = canvas.width;
    const cx = SIZE/2, cy = SIZE/2, r = SIZE/2 - 14;
    const TWO_PI = Math.PI * 2;

    // Segmente: 75% vs 25%
    const segments = [
      { label: 'Mit mir joggen gehen', weight: 0.75, color: '#4CAF50' },
      { label: 'Kuchen backen', weight: 0.25, color: '#FF7043' }
    ];

    // Start-/Endwinkel berechnen
    let acc = 0;
    for (let s of segments) {
      s.start = acc;
      s.end = acc + s.weight * TWO_PI;
      acc = s.end;
    }

    const normalize = (a) => ((a % TWO_PI) + TWO_PI) % TWO_PI;

    function render(rotation = 0, highlightIndex = null) {
      ctx.clearRect(0,0,SIZE,SIZE);
      ctx.save();
      ctx.translate(cx, cy);
      ctx.rotate(rotation);
      ctx.translate(-cx, -cy);

      for (let i = 0; i < segments.length; i++) {
        const s = segments[i];
        ctx.beginPath();
        ctx.moveTo(cx, cy);
        ctx.arc(cx, cy, r, s.start, s.end);
        ctx.closePath();
        ctx.fillStyle = s.color;
        ctx.fill();

        if (i === highlightIndex) {
          ctx.save();
          ctx.shadowColor = 'rgba(255,215,0,0.9)';
          ctx.shadowBlur = 18;
          ctx.lineWidth = 6;
          ctx.strokeStyle = 'rgba(255,215,0,0.95)';
          ctx.stroke();
          ctx.restore();
        } else {
          ctx.lineWidth = 1;
          ctx.strokeStyle = 'rgba(255,255,255,0.12)';
          ctx.stroke();
        }

        const mid = (s.start + s.end) / 2;
        ctx.save();
        ctx.translate(cx, cy);
        ctx.rotate(mid);
        ctx.textAlign = 'right';
        ctx.textBaseline = 'middle';
        ctx.fillStyle = '#fff';
        ctx.font = '16px Arial';
        ctx.fillText(s.label, r - 12, 0);
        ctx.restore();
      }

      ctx.restore();
    }

    render(0, null);

    let currentRotation = 0;
    const btn = document.getElementById('spin');
    const resultEl = document.getElementById('result');
    let spinning = false;

    btn.addEventListener('click', () => {
      if (spinning) return;
      spinning = true;
      btn.disabled = true;
      resultEl.textContent = '';

      const turns = 4 + Math.floor(Math.random() * 4); // 4–7 volle Umdrehungen
      const extra = Math.random() * TWO_PI;
      const targetRotation = currentRotation + turns * TWO_PI + extra;
      const duration = 4200;
      const startTime = performance.now();

      function easeOutCubic(t) { return 1 - Math.pow(1 - t, 3); }

      function frame(now) {
        const t = Math.min((now - startTime) / duration, 1);
        const eased = easeOutCubic(t);
        const angle = currentRotation + (targetRotation - currentRotation) * eased;
        render(angle, null);
        if (t < 1) {
          requestAnimationFrame(frame);
        } else {
          currentRotation = normalize(targetRotation);

          // KORREKTE BERECHNUNG: Segment unter Pfeil bei 12 Uhr (0°)
          const pointerAngle = normalize(-Math.PI/2 - currentRotation); // Pfeil oben
          let pickedIndex = segments.findIndex(s => {
            if (s.start < s.end) {
              return pointerAngle >= s.start && pointerAngle < s.end;
            } else {
              return pointerAngle >= s.start || pointerAngle < s.end;
            }
          });
          if (pickedIndex === -1) pickedIndex = 0;

          // Hervorheben
          let flashes = 0;
          const maxFlashes = 4;
          const flashInterval = 220;

          const doFlash = () => {
            const highlightNow = (flashes % 2 === 0) ? pickedIndex : null;
            render(currentRotation, highlightNow);
            flashes++;
            if (flashes <= maxFlashes) {
              setTimeout(doFlash, flashInterval);
            } else {
              resultEl.textContent = 'Ergebnis: ' + segments[pickedIndex].label;
              spinning = false;
              btn.disabled = false;
            }
          };
          doFlash();
        }
      }

      requestAnimationFrame(frame);
    });
  </script>

  <p>
    </br></br></br>Rechtliche Hinweise: Die Festlegung einer Sanktion infolge wiederholter Parkverstöße kann nach den Grundsätzen von Treu und Glauben (§ 242 BGB) sowie der privatautonomen Gestaltungsmacht der Beteiligten erfolgen. Dabei ist es den Parteien unbenommen, Art und Umfang der Sanktion durch ein vereinbartes Zufallsverfahren, namentlich die Nutzung eines Glücksrads, zu bestimmen.
    Das Verfahren entspricht den Anforderungen an Transparenz und Gleichbehandlung, da die möglichen Sanktionen im Vorfeld klar definiert sind und das Zufallselement eine sachgerechte und nicht willkürliche Auswahl gewährleistet. Somit ist die Heranziehung eines Glücksrads zur Bestimmung der Sanktion rechtlich zulässig und verbindlich.
  </p>
</body>
</html>
-->
<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <title>Backe Backe Kuchen</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      display: flex;
      flex-direction: column;
      align-items: center;
      margin: 40px;
    }
    #cheesecake {
      max-width: 90%;
      height: auto;
      filter: blur(40px);
      transition: filter 2s ease; /* Übergangseffekt 2s */
    }
    button {
      margin-top: 20px;
      padding: 10px 18px;
      font-size: 16px;
      cursor: pointer;
      border-radius: 8px;
      border: none;
      background: #2962ff;
      color: white;
    }
    #result {
      margin-top: 20px;
      font-weight: bold;
      font-size: 22px;
      min-height: 1.2em;
    }
  </style>
</head>
<body>
  <p>
    Backe Backe Kuchen, der Dennis hat gerufen. Laura will ihm guten Kuchen backen und braucht dafür sieben Sachen. Willst du die Zutaten wissen, darfst du den Enthüllungsbutton nicht missen.
  </p>
  <h2>Ihre Sanktion</h2>
  <img id="cheesecake" src="Kuchen.jpeg" alt="Lotus Cheesecake">
  <button id="reveal">Slap me!</button>
  <div id="result"></div>

  <script>
    const img = document.getElementById("cheesecake");
    const btn = document.getElementById("reveal");
    const resultEl = document.getElementById("result");

    btn.addEventListener("click", () => {
      btn.disabled = true;
      resultEl.textContent = "";

      // kleine Verzögerung für Spannung
      setTimeout(() => {
        img.style.filter = "blur(0px)";
      }, 500); // nach 0,5 Sekunden Übergang starten

      // Text nach Ende der Animation einblenden
      setTimeout(() => {
        resultEl.textContent = "Lotus Cheesecake. </br> Zutaten: Biscoff Kekse, Butter, Frischkäse, Biscoff Aufstrich, Zucker, Eier, Schlagsahne";
      }, 2700); // 0,5s warten + 2s Übergang + 0,2s Puffer
    });
  </script>

</body>
</html>
